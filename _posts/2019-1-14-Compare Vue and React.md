---
layout: post
title:  学习Vue和React两大主流框架及个人总结
summary: "学习Vue和React两大主流框架"
date:   2019-1-14 10:45:13 +0700
categories: 框架和工具
tags: '框架和工具'
author: 曾宇媚
comment: true
---

由于组里项目的需求，为了更方便和高效地开发网页，满足项目需求，所以我花了比较多的时间来学习了Vue和React，下面是个人的一些学习心得和个人总结。如有不当之处，还望大家批评指正。

## Vue

>Vue是一套用于构建用户界面的渐进式JavaScript框架。

那什么是渐进式框架呢？</br>
渐进式框架是指没有强主张，对框架的使用没有强约束关系，可以将 Vue 当做 Jquey 只使用它的页面模板，也可以只使用其数据绑定和组件式开发特性，完全不关注 vuex,vue-router 这样的周边工具，也可以使用 vue 全家桶搭建复杂的单页应用，这种模式便是渐进式开发框架。
与其它大型框架不同，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。

相对来说，Vue 更适合零基础入门。因为只要我们通过 script 标签引入任一版本的 Vue.js 源码文件，即可以使用 Vue。Vue最主要的特性是**数据双向绑定**机制及**组件式开发**模式。

### 双向绑定
双向绑定是指视图变化的时候能够响应到数据属性的更新，而数据属性的更新也能够快速响应到视图的变化。

通过类似下面的操作去实现 MVVM 的双向绑定。

```
// html文件
<div id="app">
  {{ message }}
</div>

// js文件
var app = new Vue({
  el: '#app',
  data: {
    message: 'Hello World!'
  }
})
```

以上这段代码实现了数据 message 与 DOM的绑定，所有元素都是响应式的，若 message 改变，那么相应 DOM 中的内容也会随之更新。

数据双向绑定的实现主要依赖于三个功能模块：  
* 观察者Observer: 观察监听数据的变化  ，如数据有变化就通知订阅者；
* 订阅者Watcher: 将创建的实例中的data添加维护为订阅者列表，当数值更新变化的时候，通知指令解析器；
* 指令解析器Compiler: 解析DOM中的指令模板，绑定指令监听事件。  


* 数据变化 -----> 视图变化
    * 当数据变化的时候，会触发观察者的set方法，从而触发发生变化的数据属性对应的Watcher，
    * Watcher会触发指令解析器，将视图中某一节点node.value替换为新的值  
* 视图变化 -----> 数据变化
    * 当在输入框输入文字的时候，触发input的监听事件
    * 将input的node的值赋给绑定订阅者列表中绑定的键值，从而更新数据

### 组件式开发
>组件系统是 Vue 的另一个重要概念，因为它是一种抽象，允许我们使用小型、独立和通常可复用的组件构建大型应用。几乎任意类型的应用界面都可以抽象为一个组件树。

**那么Vue提供的组件封装和我们自己用原生JS封装组件之间有什么样的优势呢？**

Vue的组件封装：<br/>


JS原生组件封装：<br/>


二者相比之下，Vue组件的优势就很明显了：<br/>
* **可读性：**我们可以看到原生语言封装的组件，页面模板的定义、DOM交互、数据请求都混杂在一起，可读性较差，而Vue的组件封装中页面模板、交互逻辑、CSS样式和我们单独写页面是很类似的，可读性较强;<br/>
* **可扩展性：**Vue的组件能够轻松的在页面模板或者交互逻辑中扩展新的功能，而原生语言封装的组件在扩展过程中则需要考虑会不会牵动其他的组件逻辑，以及对已有逻辑的更改，可扩展性较差；<br/>
* **可维护性：**Vue注册一个组件之后，组件的更新和渲染都是独立的，因此当我们对其中一个组件进行更改的时候，其他组件不会受到影响

## React

> React是一个采用声明式，高效而且灵活的用来构建用户界面的框架。

React 的目的是让开发者可以快速的构建 JavaScript 大型网络应用，作为一个 JavaScript 库，他的优点之一是允许你在编程的同时也可以思考你的应用架构。React 具有如下几个特点：  

**1. JSX**  
React 不是一个渐进式的框架，这意味着开发者在上手之前需要了解它的几个关键概念，其中最具特色的一个方面就是 JSX， JavaScript 的一种语法扩展。用简单的话来说，它允许我们用类 HTML 的语法来声明 React 中的元素，并在实际执行前能够通过 JSX 转换工具转换成纯 JavaScript 代码。比如下面这个语句用 JSX 语法声明了一个标题元素：
```
const element = <h1>Hello World!</h1>;
```
在 React 中使用 JSX 来描述用户界面。JSX 看起来可能比较像是模版语言，但事实上它完全是在 JavaScript 内部实现的，所以我们可以任意地在JSX中使用 JavaScript 表达式，但是需要注意的是要用大括号将 JSX 中的表达式包裹起来，例如下面的图片标签中使用到的变量：
```
const element = (
  <h1>
    Hello, {formatName(user)}!
  </h1>
);
```
**2. 组件 & Props**  
组件可以将UI切分成一些独立的、可复用的部件，这样你就只需专注于构建每一个单独的部件。

组件从概念上看就像是函数，它可以接收任意的输入值（称之为“props”），并返回一个需要在页面上展示的React元素。
```
// 函数定义
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}
```
该函数是一个有效的React组件，它接收一个单一的“props”对象并返回了一个React元素。我们之所以称这种类型的组件为函数定义组件，是因为从字面上来看，它就是一个JavaScript函数。
```
// 类定义组件
class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}
```
上面两个组件在React中是相同的。

1. 声明式
React可以非常轻松地创建用户交互界面。为你应用的每一个状态设计简洁的视图，在数据改变时 React 也可以高效地更新渲染界面。  
以声明式编写UI，可以让你的代码更加可靠，且方便调试。

2. 组件化
创建好拥有各自状态的组件，再由组件构成更加复杂的界面。  
无需再用模版代码，通过使用JavaScript编写的组件你可以更好地传递数据，将应用状态和DOM拆分开来。

## 个人总结
相比之下，只要我们了解 JavaScript 的基本语法，上面的代码我们都可以轻易看懂，而不像 React 的语法那样在具体实现前我们需要提前去了解到其中涉及的一些关键概念。

## 参考资料
Vue官方介绍：[https://vuejs.org/](https://vuejs.org/)  
React官方介绍：[https://react.docschina.org/](https://react.docschina.org/)

[jekyll-docs]: http://jekyllrb.com/docs/home
[jekyll-gh]:   https://github.com/jekyll/jekyll
[jekyll-talk]: https://talk.jekyllrb.com/
